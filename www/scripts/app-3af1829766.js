"use strict";Mock.mockjax=function(module){var Item,error;Item=function(){function Item(){}return Item.prototype.add=function(url){var k,reg,v,_ref;_ref=Mock._mocked;for(k in _ref)if(v=_ref[k],reg=null,reg=/^\/.*\/$/.test(k)?eval(k):new RegExp(k),reg.test(url))return Mock.mock(v.template)},Item}();try{return module.config(["$httpProvider",function(t){var e;return e=new Item,t.interceptors.push(function(){return{request:function(t){var n;return n=e.add(t.url),n&&(t.original={url:t.url,result:n,method:t.method,params:t.params,data:t.data},t.method="GET",t.url="?mockUrl="+t.url),t},response:function(t){var e;return e=t.config.original,e&&(t.data=e.result),t}}})}])}catch(_error){return error=_error,console.error('生成mock.angular失败，例：var app = angular.module("app", []); Mock.mockjax(app);',error)}};var ChargingPile=angular.module("ChargingPile",["ionic","ngCordova","ngResource"]);Mock.mockjax(ChargingPile),ChargingPile.run(["$ionicPlatform",function(t){t.ready(function(){}),Mock.mock("/registerRequestCaptcha",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/register",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/resetKeyRequestCaptcha",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-3"]}).array}}),Mock.mock("/resetKey",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-3"]}).array}}),Mock.mock("/loginRequesCaptcha",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-4","-5"]}).array}}),Mock.mock("/login",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/loginOut",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}})}]).config(["$httpProvider","$stateProvider","$urlRouterProvider",function(t,e,n){e.state("app",{url:"/app","abstract":!0,templateUrl:"templates/main.html",controller:"MainController"}).state("app.home",{url:"/home",cache:!0,views:{viewContent:{templateUrl:"templates/views/home.html",controller:"HomeController"}}}).state("app.signin",{url:"/signin",cache:!0,views:{viewContent:{templateUrl:"templates/views/signin.html",controller:"SigninController"}}}).state("app.regist",{url:"/regist",cache:!0,views:{viewContent:{templateUrl:"templates/views/regist.html",controller:"RegistController"}}}).state("app.reset",{url:"/reset",cache:!0,views:{viewContent:{templateUrl:"templates/views/reset.html",controller:"ResetKeyController"}}}).state("app.settings",{url:"/settings",cache:!0,views:{viewContent:{templateUrl:"templates/views/settings.html",controller:"SettingsController"}}}),n.otherwise("/app/signin")}]),angular.module("ChargingPile").constant("API_ENDPOINT",{host:"http://localhost",postData:{apikey:"",datas:{}},registerRequestCaptcha:{url:"/registerRequestCaptcha",hint:["注册成功","用户已经存在,注册请求失败.","手机号码无效,注册请求失败.","其它错误"]},register:{url:"/register",hint:["注册成功","用户已经存在,注册请求失败.","手机号码无效,注册请求失败.","其它错误"]},resetKeyRequestCaptcha:{url:"/resetKeyRequestCaptcha",hint:["申请成功","服务器错误.","","其它错误"]},resetKey:{url:"/resetKey",hint:["修改密码成功","验证码无效,注册失败.","","其它错误"]},loginRequesCaptcha:{url:"/loginRequesCaptcha",hint:["成功","服务器错误","","","不存在的用户名","其它错误"]},login:{url:"/login",hint:["登陆成功","服务器错误","密码错误","验证码错误"]},signout:{url:"/loginOut",hint:["成功","服务器错误","不存在的用户名","验证码错误"]}}),angular.module("ChargingPile").controller("HomeController",["$scope","ExampleService",function(t,e){t.myHTML=null,t.fetchRandomText=function(){e.doSomethingAsync().then(e.fetchSomethingFromServer).then(function(e){t.myHTML=e.data.text,t.$broadcast("scroll.refreshComplete")})}}]),angular.module("ChargingPile").controller("MainController",["$scope",function(t){}]),angular.module("ChargingPile").controller("RegistController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,e,n,r,o,a){var i={userid:"",userKey:"",mobile:"",captcha:""};t.param=i,t.registerRequestCaptcha=function(){var e={userid:"",userKey:"",mobile:""};a.getQueryParam(e,t.param),o.postData.datas=e,n.post(o.host+o.registerRequestCaptcha.url,o.postData).then(function(t){var e=Math.abs(t.data.errorCode);r.alert({template:o.registerRequestCaptcha.hint[e]})},function(t){r.alert({template:angular.toJson(t)})})},t.register=function(){a.getQueryParam(i,t.param),o.postData.datas=i,n.post(o.host+o.register.url,o.postData).then(function(t){var n=Math.abs(t.data.errorCode),a=r.alert({template:o.register.hint[n]});a.then(function(t){0===n&&e.go("app.login")})},function(t){r.alert({template:angular.toJson(t)})})}}]),angular.module("ChargingPile").controller("ResetKeyController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,e,n,r,o,a){var i={userid:"",userKey:"",captcha:""};t.param=i,t.resetKeyRequestCaptcha=function(){var e={userid:""};a.getQueryParam(e,t.param),o.postData.datas=e,n.post(o.host+o.resetKeyRequestCaptcha.url,o.postData).then(function(t){var e=Math.abs(t.data.errorCode);r.alert({template:o.resetKeyRequestCaptcha.hint[e]})},function(t){r.alert({template:angular.toJson(t)})})},t.resetKey=function(){a.getQueryParam(i,t.param),o.postData.datas=i,n.post(o.host+o.resetKey.url,o.postData).then(function(t){var n=Math.abs(t.data.errorCode),a=r.alert({template:o.resetKey.hint[n]});a.then(function(t){0===n&&e.go("app.login")})},function(t){r.alert({template:angular.toJson(t)})})}}]),angular.module("ChargingPile").controller("SettingsController",["$scope",function(t){}]),angular.module("ChargingPile").controller("SigninController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,e,n,r,o,a){var i={userid:"",userKey:"",captcha:""};t.param=i,t.loginRequesCaptcha=function(){var e={userid:""};a.getQueryParam(e,t.param),o.postData.datas=e,n.post(o.host+o.loginRequesCaptcha.url,o.postData).then(function(t){var e=Math.abs(t.data.errorCode);r.alert({template:o.loginRequesCaptcha.hint[e]})},function(t){r.alert({template:angular.toJson(t)})})},t.signin=function(){a.getQueryParam(i,t.param),o.postData.datas=i,n.post(o.host+o.login.url,o.postData).then(function(t){var e=Math.abs(t.data.errorCode),n=r.alert({template:o.login.hint[e]});n.then(function(t){})},function(t){r.alert({template:angular.toJson(t)})})},t.signout=function(){var e={userid:""};a.getQueryParam(e,t.param),o.postData.datas=e,n.post(o.host+o.signout.url,o.postData).then(function(t){var e=Math.abs(t.data.errorCode);r.alert({template:o.signout.hint[e]})},function(t){r.alert({template:angular.toJson(t)})})},t.gotoResetKey=function(){e.go("app.reset")},t.gotoRegister=function(){e.go("app.regist")}}]),angular.module("ChargingPile").factory("ApiService",["$window","$http","API_ENDPOINT",function(t,e,n){var r=n,o=r.port?r.host+":"+r.port+r.path:r.host+r.path;return r.needsAuth&&(e.defaults.headers.common.Authorization="Basic "+t.btoa(r.username+":"+r.password)),{getEndpoint:function(){return o}}}]),angular.module("ChargingPile").factory("ExampleService",["$http","$timeout","$q",function(t,e,n){var r=42,o=function(){var t=n.defer();return e(t.resolve.bind(null,r),1e3),t.promise},a=function(){return t({url:"http://hipsterjesus.com/api",params:{paras:2},method:"GET"}).success(function(t){console.log("fetched this stuff from server:",t)}).error(function(t){console.log("an error occured",t)})};return{doSomethingAsync:o,fetchSomethingFromServer:a}}]),angular.module("ChargingPile").factory("FN",function(){var t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(r){n?t[r]=e[r]:""===t[r]&&(t[r]=e[r])};for(var o in t)angular.isString(e[o])&&""!==e[o]&&r(o)};return{getQueryParam:t}}),angular.module("ChargingPile").factory("_",["$window",function(t){return t._}]),angular.module("ChargingPile").run(["$templateCache",function(t){t.put("templates/main.html",'<ion-side-menus>\r\n    <!-- Center content -->\r\n    <ion-side-menu-content>\r\n\r\n        <ion-nav-view name="viewContent">\r\n\r\n        </ion-nav-view>\r\n    </ion-side-menu-content>\r\n\r\n    <!-- Left menu -->\r\n    <ion-side-menu side="left" class="side-menu">\r\n\r\n        <ion-header-bar align-title="center" class="bar-positive">\r\n            <h1 class="title">Side Menu</h1>\r\n        </ion-header-bar>\r\n\r\n        <ion-content class="has-header">\r\n            <div class="list">\r\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.home">\r\n                    <i class="icon ion-home"></i>\r\n                    Home\r\n                </a>\r\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.settings">\r\n                    <i class="icon ion-settings"></i>\r\n                    Settings\r\n                </a>\r\n            </div>\r\n        </ion-content>\r\n    </ion-side-menu>\r\n</ion-side-menus>\r\n'),t.put("templates/views/home.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">ChargingPile</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n        <ion-refresher\r\n            pulling-text="Pull to refresh..."\r\n            on-refresh="fetchRandomText()">\r\n        </ion-refresher>\r\n        <div class="loader" ng-if="!myHTML">\r\n            <ion-spinner></ion-spinner>\r\n        </div>\r\n        <div class="content" ng-bind-html="myHTML">\r\n        </div>\r\n    </ion-content>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/regist.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">注册</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="用户名" ng-model="param.userid">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="密码" ng-model="param.userKey">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="number" placeholder="电话号码" ng-model="param.mobile">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="registerRequestCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="register()">\r\n          注册\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/reset.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">登录</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="账号" ng-model="param.userid">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="新密码" ng-model="param.userKey">\r\n        </label>\r\n         <label class="item item-input">\r\n          <input type="password" placeholder="重复密码">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="resetKeyRequestCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="resetKey();">\r\n          确认\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n\r\n'),t.put("templates/views/settings.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">Settings</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n        <div class="list">\r\n\r\n            <!-- connect toggles to controller using ng-model -->\r\n\r\n            <ion-toggle>\r\n                <span class="settings-item__text">\r\n                    Allow Push Notifications\r\n                </span>\r\n            </ion-toggle>\r\n\r\n            <ion-toggle>\r\n                <span class="settings-item__text">\r\n                    Allow cookies\r\n                </span>\r\n            </ion-toggle>\r\n\r\n        </div>\r\n    </ion-content>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/signin.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">登录</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="账号">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="密码">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="loginRequesCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="signin();">\r\n          登录\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="signout();">\r\n          退出\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="gotoResetKey();">\r\n          修改密码\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="gotoRegister();">\r\n          注册\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n')}]);