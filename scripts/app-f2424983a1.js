"use strict";Mock.mockjax=function(module){var Item,error;Item=function(){function Item(){}return Item.prototype.add=function(url){var k,reg,v,_ref;_ref=Mock._mocked;for(k in _ref)if(v=_ref[k],reg=null,reg=/^\/.*\/$/.test(k)?eval(k):new RegExp(k),reg.test(url))return Mock.mock(v.template)},Item}();try{return module.config(["$httpProvider",function(t){var n;return n=new Item,t.interceptors.push(function(){return{request:function(t){var e;return e=n.add(t.url),e&&(t.original={url:t.url,result:e,method:t.method,params:t.params,data:t.data},t.method="GET",t.url="?mockUrl="+t.url),t},response:function(t){var n;return n=t.config.original,n&&(t.data=n.result),t}}})}])}catch(_error){return error=_error,console.error('生成mock.angular失败，例：var app = angular.module("app", []); Mock.mockjax(app);',error)}};var ChargingPile=angular.module("ChargingPile",["ionic","ngCordova","ngResource"]);Mock.mockjax(ChargingPile),ChargingPile.run(["$ionicPlatform",function(t){t.ready(function(){}),Mock.mock("/registerRequestCaptcha",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/register",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/resetKeyRequestCaptcha",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-3"]}).array}}),Mock.mock("/resetKey",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-3"]}).array}}),Mock.mock("/loginRequesCaptcha",function(t){return{errorCode:Mock.mock({"array|1":["0","-1","-4","-5"]}).array}}),Mock.mock("/login",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/loginOut",function(t){return{errorCode:Mock.mock("@natural(-3, 0)")}}),Mock.mock("/getUserChargeHistor",function(t){return{"return":[{rid:4555,terminalid:"453453453453",chargingPileID:"090098988985534",gunid:0,orderid:"20167899887778",orderState:0,BMSID:" LSJE12835",VIN:"LSJE12835CS110420",licensePlateNumber:"粤B67890",startChargeSOC:"",endChargeSOC:"","accumulatedChargeElectricQuantity ":34,"accumulatedChargeElectricEnergy ":34,chargeTime:Mock.mock("@integer(60, 100000)"),chargeMode:0,chargeModeParameter:4,isNormalEnd:3,chargeProcessLog:[{electricEnergy:3,time:'ISODate("2016-04-26T01:42:51.263Z")'},{electricEnergy:30,time:'ISODate("2016-04-26T01:42:51.263Z")'}],chargeStartTime:Mock.mock("@datetime()"),chargeEndTime:Mock.mock("@datetime()"),orderStartTime:Mock.mock("@datetime()"),startMeterValue:3333,endMeterValue:44444,payment:50.5,paymentRemark:"服务费：4，电费：50，车位费：10"}],errorCode:Mock.mock({"array|1":["0"]}).array}})}]).config(["$httpProvider","$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(t,n,e,r){r.platform.ios.tabs.style("standard"),r.platform.ios.tabs.position("bottom"),r.platform.android.tabs.style("standard"),r.platform.android.tabs.position("bottom"),r.platform.ios.navBar.alignTitle("center"),r.platform.android.navBar.alignTitle("left"),r.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),r.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),r.platform.ios.views.transition("ios"),r.platform.android.views.transition("android"),n.state("app",{url:"/app","abstract":!0,templateUrl:"templates/main.html",controller:"MainController"}).state("app.home",{url:"/home",cache:!0,views:{viewContent:{templateUrl:"templates/views/home.html",controller:"HomeController"}}}).state("app.signin",{url:"/signin",cache:!0,views:{viewContent:{templateUrl:"templates/views/signin.html",controller:"SigninController"}}}).state("app.regist",{url:"/regist",cache:!0,views:{viewContent:{templateUrl:"templates/views/regist.html",controller:"RegistController"}}}).state("app.reset",{url:"/reset",cache:!0,views:{viewContent:{templateUrl:"templates/views/reset.html",controller:"ResetKeyController"}}}).state("app.chargeHistory",{url:"/chargeHistory",cache:!0,views:{viewContent:{templateUrl:"templates/views/chargeHistory.html",controller:"ChargeHistoryController"}}}).state("app.settings",{url:"/settings",cache:!0,views:{viewContent:{templateUrl:"templates/views/settings.html",controller:"SettingsController"}}}),e.otherwise("/app/chargeHistory")}]),angular.module("ChargingPile").controller("ChargeHistoryController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,n,e,r,i,o){var a={userid:""};t.orderState=["用户已经预约电桩等待用户充电","充电进行中","充电中断等待恢复","正常完成充电，交易结算"],i.postData.datas=a,t.doRefresh=function(){e.post(i.host+i.getUserChargeHistory.url,i.postData).then(function(n){var e=Math.abs(n.data.errorCode);if(0===e)t.chargeHistory?t.chargeHistory=n.data["return"].concat(t.chargeHistory):t.chargeHistory=n.data["return"],t.$broadcast("scroll.refreshComplete"),console.log(t.chargeHistory);else{r.alert({template:i.getUserChargeHistory.hint[e]})}},function(t){r.alert({template:angular.toJson(t)})})},t.doRefresh()}]),angular.module("ChargingPile").controller("HomeController",["$scope","ExampleService",function(t,n){t.myHTML=null,t.fetchRandomText=function(){n.doSomethingAsync().then(n.fetchSomethingFromServer).then(function(n){t.myHTML=n.data.text,t.$broadcast("scroll.refreshComplete")})}}]),angular.module("ChargingPile").controller("MainController",["$scope",function(t){}]),angular.module("ChargingPile").controller("RegistController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,n,e,r,i,o){var a={userid:"",userKey:"",mobile:"",captcha:""};t.param=a,t.registerRequestCaptcha=function(){var n={userid:"",userKey:"",mobile:""};o.getQueryParam(n,t.param),i.postData.datas=n,e.post(i.host+i.registerRequestCaptcha.url,i.postData).then(function(t){var n=Math.abs(t.data.errorCode);r.alert({template:i.registerRequestCaptcha.hint[n]})},function(t){r.alert({template:angular.toJson(t)})})},t.register=function(){o.getQueryParam(a,t.param),i.postData.datas=a,e.post(i.host+i.register.url,i.postData).then(function(t){var e=Math.abs(t.data.errorCode),o=r.alert({template:i.register.hint[e]});o.then(function(t){0===e&&n.go("app.login")})},function(t){r.alert({template:angular.toJson(t)})})}}]),angular.module("ChargingPile").controller("ResetKeyController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,n,e,r,i,o){var a={userid:"",userKey:"",captcha:""};t.param=a,t.resetKeyRequestCaptcha=function(){var n={userid:""};o.getQueryParam(n,t.param),i.postData.datas=n,e.post(i.host+i.resetKeyRequestCaptcha.url,i.postData).then(function(t){var n=Math.abs(t.data.errorCode);r.alert({template:i.resetKeyRequestCaptcha.hint[n]})},function(t){r.alert({template:angular.toJson(t)})})},t.resetKey=function(){o.getQueryParam(a,t.param),i.postData.datas=a,e.post(i.host+i.resetKey.url,i.postData).then(function(t){var e=Math.abs(t.data.errorCode),o=r.alert({template:i.resetKey.hint[e]});o.then(function(t){0===e&&n.go("app.login")})},function(t){r.alert({template:angular.toJson(t)})})}}]),angular.module("ChargingPile").controller("SettingsController",["$scope",function(t){}]),angular.module("ChargingPile").controller("SigninController",["$scope","$state","$http","$ionicPopup","API_ENDPOINT","FN",function(t,n,e,r,i,o){var a={userid:"",userKey:"",captcha:""};t.param=a,t.loginRequesCaptcha=function(){var n={userid:""};o.getQueryParam(n,t.param),i.postData.datas=n,e.post(i.host+i.loginRequesCaptcha.url,i.postData).then(function(t){var n=Math.abs(t.data.errorCode);r.alert({template:i.loginRequesCaptcha.hint[n]})},function(t){r.alert({template:angular.toJson(t)})})},t.signin=function(){o.getQueryParam(a,t.param),i.postData.datas=a,e.post(i.host+i.login.url,i.postData).then(function(t){var n=Math.abs(t.data.errorCode),e=r.alert({template:i.login.hint[n]});e.then(function(t){})},function(t){r.alert({template:angular.toJson(t)})})},t.signout=function(){var n={userid:""};o.getQueryParam(n,t.param),i.postData.datas=n,e.post(i.host+i.signout.url,i.postData).then(function(t){var n=Math.abs(t.data.errorCode);r.alert({template:i.signout.hint[n]})},function(t){r.alert({template:angular.toJson(t)})})},t.gotoResetKey=function(){n.go("app.reset")},t.gotoRegister=function(){n.go("app.regist")}}]),angular.module("ChargingPile").constant("API_ENDPOINT",{host:"http://localhost",postData:{apikey:"",datas:{}},registerRequestCaptcha:{url:"/registerRequestCaptcha",hint:["注册成功","用户已经存在,注册请求失败.","手机号码无效,注册请求失败.","其它错误"]},register:{url:"/register",hint:["注册成功","用户已经存在,注册请求失败.","手机号码无效,注册请求失败.","其它错误"]},resetKeyRequestCaptcha:{url:"/resetKeyRequestCaptcha",hint:["申请成功","服务器错误.","","其它错误"]},resetKey:{url:"/resetKey",hint:["修改密码成功","验证码无效,注册失败.","","其它错误"]},loginRequesCaptcha:{url:"/loginRequesCaptcha",hint:["成功","服务器错误","","","不存在的用户名","其它错误"]},login:{url:"/login",hint:["登陆成功","服务器错误","密码错误","验证码错误"]},signout:{url:"/loginOut",hint:["成功","服务器错误","不存在的用户名","验证码错误"]},getUserChargeHistory:{url:"/getUserChargeHistory",hint:["申请成功","服务器错误","","其它错误"]}}),angular.module("ChargingPile").factory("ApiService",["$window","$http","API_ENDPOINT",function(t,n,e){var r=e,i=r.port?r.host+":"+r.port+r.path:r.host+r.path;return r.needsAuth&&(n.defaults.headers.common.Authorization="Basic "+t.btoa(r.username+":"+r.password)),{getEndpoint:function(){return i}}}]),angular.module("ChargingPile").factory("ExampleService",["$http","$timeout","$q",function(t,n,e){var r=42,i=function(){var t=e.defer();return n(t.resolve.bind(null,r),1e3),t.promise},o=function(){return t({url:"http://hipsterjesus.com/api",params:{paras:2},method:"GET"}).success(function(t){console.log("fetched this stuff from server:",t)}).error(function(t){console.log("an error occured",t)})};return{doSomethingAsync:i,fetchSomethingFromServer:o}}]),angular.module("ChargingPile").factory("FN",function(){var t=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(r){e?t[r]=n[r]:""===t[r]&&(t[r]=n[r])};for(var i in t)angular.isString(n[i])&&""!==n[i]&&r(i)};return{getQueryParam:t}}),angular.module("ChargingPile").factory("_",["$window",function(t){return t._}]),angular.module("ChargingPile").run(["$templateCache",function(t){t.put("templates/main.html",'<ion-side-menus>\r\n    <!-- Center content -->\r\n    <ion-side-menu-content>\r\n\r\n        <ion-nav-view name="viewContent">\r\n\r\n        </ion-nav-view>\r\n    </ion-side-menu-content>\r\n\r\n    <!-- Left menu -->\r\n    <ion-side-menu side="left" class="side-menu">\r\n\r\n        <ion-header-bar align-title="center" class="bar-positive">\r\n            <h1 class="title">Side Menu</h1>\r\n        </ion-header-bar>\r\n\r\n        <ion-content class="has-header">\r\n            <div class="list">\r\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.home">\r\n                    <i class="icon ion-home"></i>\r\n                    Home\r\n                </a>\r\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ui-sref="app.settings">\r\n                    <i class="icon ion-settings"></i>\r\n                    Settings\r\n                </a>\r\n            </div>\r\n        </ion-content>\r\n    </ion-side-menu>\r\n</ion-side-menus>\r\n'),t.put("templates/views/chargeHistory.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">ChargingPile</h1>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n        <ion-refresher pulling-text="下拉刷新..." on-refresh="doRefresh()"></ion-refresher>\r\n        <ion-list class="chargeHistory">\r\n          <ion-item ng-repeat-start="i in chargeHistory">\r\n            <div class="left flt-l">\r\n              <img src="">\r\n              <p>{{i.rid}}</p>\r\n            </div>\r\n            <div class="right">\r\n              <ion-list>\r\n                <ion-item>\r\n                  订单编号:{{i.orderid}}\r\n                </ion-item>\r\n                <ion-item>\r\n                  订单开始时间:{{i.orderStartTime}}\r\n                </ion-item>\r\n                <ion-item>\r\n                订单状态:{{orderState[i.orderState]}}\r\n                </ion-item>\r\n                <ion-item>\r\n                车牌号码:{{i.licensePlateNumber}}\r\n                </ion-item>\r\n                <ion-item>\r\n                开始时间:{{i.chargeStartTime}}\r\n                </ion-item>\r\n                <ion-item>\r\n                 结束时间:{{i.chargeEndTime}}                \r\n                </ion-item>\r\n                <ion-item>\r\n                总时长:{{i.chargeTime}} / 总花费:{{i.payment}}元\r\n                </ion-item>\r\n              </ion-list>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item ng-repeat-end class="item-divider" ng-if="!$last"></ion-item>\r\n        </ion-list>\r\n    </ion-content>\r\n</ion-view>'),t.put("templates/views/home.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">ChargingPile</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-tabs class="tabs-positive tabs-icon-top">\r\n\r\n      <ion-tab title="首页" icon-on="ion-ios-home" icon-off="ion-ios-home-outline">\r\n        <ion-content class="content">\r\n            <div class="imgs">          \r\n            </div>\r\n            <ul class="img-nav">\r\n                <li>\r\n                    <img src="">\r\n                    电站搜索\r\n                </li>\r\n                <li>\r\n                    <img src="">\r\n                    我的收藏\r\n                </li>\r\n                <li>\r\n                    <img src="">\r\n                    最近充电\r\n                </li>\r\n                <li>\r\n                    <img src="">\r\n                    充电地图\r\n                </li>\r\n                <li>\r\n                    <img src="">\r\n                    一键导航\r\n                </li>\r\n            </ul>\r\n        </ion-content>\r\n      </ion-tab>\r\n\r\n      <ion-tab title="发现" icon-on="ion-compass" icon-off="ion-compass">\r\n\r\n      <div class="list">\r\n\r\n  <a class="item item-icon-left" href="#">\r\n    <i class="icon ion-email"></i>\r\n    Check mail\r\n  </a>\r\n\r\n  <a class="item item-icon-left item-icon-right" href="#">\r\n    <i class="icon ion-chatbubble-working"></i>\r\n    Call Ma\r\n    <i class="icon ion-ios-telephone-outline"></i>\r\n  </a>\r\n\r\n  <a class="item item-icon-left" href="#">\r\n    <i class="icon ion-mic-a"></i>\r\n    Record album\r\n    <span class="item-note">\r\n      Grammy\r\n    </span>\r\n  </a>\r\n\r\n  <a class="item item-icon-left" href="#">\r\n    <i class="icon ion-person-stalker"></i>\r\n    Friends\r\n    <span class="badge badge-assertive">0</span>\r\n  </a>\r\n\r\n</div>\r\n        <!-- Tab 2 content -->\r\n      </ion-tab>\r\n\r\n      <ion-tab title="社区" icon-on="ion-ios-chatboxes" icon-off="ion-ios-chatboxes-outline">\r\n        <!-- Tab 3 content -->\r\n      </ion-tab>\r\n\r\n      <ion-tab title="我" icon-on="ion-ios-person" icon-off="ion-ios-person-outline">\r\n       <ion-content class="content">\r\n        <div class="imgs">\r\n            <div class="me-login">\r\n                登录/注册\r\n            </div>          \r\n        </div>\r\n        <ion-list>\r\n          <ion-item class="item item-icon-left" ng-href="#/home/chargeHistor">\r\n            <i class="icon ion-card"></i>\r\n            我的钱包\r\n          </ion-item>\r\n          <ion-item class="item-icon-left">\r\n               余额:\r\n               代金券:\r\n               优惠券:\r\n          </ion-item>\r\n          <ion-item class="item-divider"></ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-clipboard"></i>\r\n                我的订单\r\n          </ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-printer"></i>\r\n                我的发票\r\n          </ion-item>\r\n          <ion-item class="item-divider"></ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-model-s"></i>\r\n                我的爱车\r\n          </ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-ios-star"></i>\r\n                我的收藏\r\n          </ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-chatbox-working"></i>\r\n                我的评论\r\n          </ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-chatboxes"></i>\r\n                我的社区\r\n          </ion-item>\r\n          <ion-item class="item-divider"></ion-item>\r\n          <ion-item class="item-icon-left">\r\n                <i class="icon ion-gear-b"></i>\r\n                设置\r\n          </ion-item>\r\n        </ion-list>\r\n       </ion-content>\r\n      </ion-tab>\r\n\r\n    </ion-tabs>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/regist.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">注册</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="用户名" ng-model="param.userid">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="密码" ng-model="param.userKey">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="number" placeholder="电话号码" ng-model="param.mobile">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="registerRequestCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="register()">\r\n          注册\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/reset.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">登录</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="账号" ng-model="param.userid">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="新密码" ng-model="param.userKey">\r\n        </label>\r\n         <label class="item item-input">\r\n          <input type="password" placeholder="重复密码">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="resetKeyRequestCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="resetKey();">\r\n          确认\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n\r\n'),t.put("templates/views/settings.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">Settings</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n        <div class="list">\r\n\r\n            <!-- connect toggles to controller using ng-model -->\r\n\r\n            <ion-toggle>\r\n                <span class="settings-item__text">\r\n                    Allow Push Notifications\r\n                </span>\r\n            </ion-toggle>\r\n\r\n            <ion-toggle>\r\n                <span class="settings-item__text">\r\n                    Allow cookies\r\n                </span>\r\n            </ion-toggle>\r\n\r\n        </div>\r\n    </ion-content>\r\n\r\n</ion-view>\r\n'),t.put("templates/views/signin.html",'<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-positive">\r\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\r\n        <h1 class="title">登录</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content>\r\n      <div class="list list-inset">\r\n        <label class="item item-input">\r\n          <input type="text" placeholder="账号">\r\n        </label>\r\n        <label class="item item-input">\r\n          <input type="password" placeholder="密码">\r\n        </label>\r\n        <div class="item item-input-inset">\r\n          <label class="item-input-wrapper">\r\n            <input type="number" placeholder="验证码" ng-model="param.captcha">\r\n          </label>\r\n          <button class="button button-small button-positive" ng-click="loginRequesCaptcha();">\r\n            发送验证码\r\n          </button>\r\n        </div>\r\n        <button class="button button-full button-positive" ng-click="signin();">\r\n          登录\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="signout();">\r\n          退出\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="gotoResetKey();">\r\n          修改密码\r\n        </button>\r\n        <button class="button button-full button-positive" ng-click="gotoRegister();">\r\n          注册\r\n        </button>\r\n      </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-view>\r\n')}]);